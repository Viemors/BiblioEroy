<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meu Perfil</title>
  <link rel="icon" type="image/png" sizes="32x32" href="../img/favicon-32.png">
  <link rel="stylesheet" href="../css/perfis.css">
  <link rel="icon" type="image/png" sizes="32x32" href="../img/favicon-32.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
  <script defer src="../js/perfis.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100..900&display=swap');
    form {
      padding-left: 30px;
    }
  </style>
</head>

<body>

  <%-include('../partials/header') %>

    <%-include("../partials/navbar") %>

      <div class="container-my-5">
        <form action="/mostrarLivros" method="get">
          <button type="submit" class="btn btn-outline-primary btn-curtir" id="button" style="font-family: Lexend Deca;"> Ver Dados </button>
        </form>

        <% if (error && error.length) { %>
          <!-- aq ele verifica se  tem uum error no array de erros, isso é coisa do express -->
          <div class="flash flash-error" style="color: red; text-align:center;">
            <% error.forEach(function(msg){ %>
              <p>
                <%= msg %>
              </p>
              <% }) %>
          </div> <!--no ejs vc acessa error (que é res.locals.error) -->
          <% } %>
            <% if (success && success.length) { %>
              <div class="flash flash-success" style="color: green; text-align:center;">
                <% success.forEach(function(msg){ %>
                  <p>
                    <%= msg %>
                  </p>
                  <% }) %>
              </div>
              <% } %>

                <form action="/addLivro" method="POST" enctype="multipart/form-data"> <!-- enctype é obrigatório pra upload -->
                  <div>
                    <label for="inputNome">Título</label>
                    <input type="text" placeholder="Digite o título" name="titulo" required>
                  </div><br>

                  <div>
                    <label for="inputNome">Autor</label>
                    <input type="text" placeholder="Digite o autor" name="autor" required>
                  </div><br>

                  <div>
                    <label for="inputSobrenome">Categoria</label>
                    <input type="text" placeholder="Digite a categoria" name="categoria" required>
                  </div><br>

                  <div>
                    <label for="inputSobrenome">Descrição</label>
                    <input type="text" placeholder="Digite a descrição" name="descricao">
                  </div><br>

                  <div>
                    <label for="inputSobrenome">Imagem do livro</label>
                    <input type="file" accept="image/png, image/jpeg, image/webp" id="img" name="imagem" required>
                  </div><br>

                  <div>
                    <button type="submit" class="btn btn-outline-primary btn-curtir" id="button">Salvar</button>
                    <button class="btn btn-outline-primary btn-curtir" id="button"><a href="/deleteLivro" style="text-decoration: none; color: inherit;">Excluir</a></button>
                    <button class="btn btn-outline-primary btn-curtir" id="button"><a href="/perfilLivro" style="text-decoration: none; color: inherit;">Cancelar</a></button>
                  </div><br>

                </form>

                <br>
      </div>

      <%-include('../partials/footer') %>

</body>

</html>